<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.redcross.mapper.QuestionMapper">

    <!-- 查询所有题目 -->
    <select id="getAllQuestions" resultType="com.example.redcross.entity.Question">
        SELECT * FROM question
    </select>
    <!-- 根据题目类型查询题目 -->
    <select id="getQuestionsByType" resultType="com.example.redcross.entity.Question">
        SELECT * FROM question WHERE question_type = #{questionType}
    </select>
    <!-- 添加题目 -->
    <insert id="insertQuestion" useGeneratedKeys="true" keyProperty="questionId" keyColumn="question_id">
        INSERT INTO question (question_type, question, answer)
        VALUES (#{questionType}, #{question}, #{answer})
    </insert>
    <!-- 删除题目 -->
    <delete id="deleteQuestionById">
        DELETE FROM question WHERE question_id = #{questionId}
    </delete>
    <!-- 修改题目 -->
    <update id="updateQuestion">
        UPDATE question
        SET question_type = #{questionType},
            question = #{question},
            answer = #{answer}
        WHERE question_id = #{questionId}
    </update>

</mapper>